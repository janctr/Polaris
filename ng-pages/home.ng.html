<qlik-navbar></qlik-navbar>
<main class="main"
      id="home-page">
    <div class="sidebar">
        <div class="toggle-section">
            <div class="toggle-section-header"
                 ng-click="isPacomTogglesOpen = !isPacomTogglesOpen">
                <h2>Classes of Supply</h2>
                <div class="toggle">
                    <arrow-icon direction="getArrowDirection(isPacomTogglesOpen)"></arrow-icon>
                </div>
            </div>
            <ul class="checkbox-group"
                ng-if="isPacomTogglesOpen">
                <li class="polaris-checkbox"
                    ng-repeat="toggle in pacomToggles">

                    <polaris-toggle is-checked="getVariable(toggle.varName)"
                                    toggle="toggleVariable(toggle.varName)"
                                    label="{{toggle.title}}"
                                    id="{{toggle.label}}">
                    </polaris-toggle>
                </li>
                <li ng-if="v_map_classes_of_supply"
                    style="list-style: none; padding-left: 1rem;">
                    <ul>
                        <li class="polaris-checkbox"
                            style="list-style: none; padding-left: 1rem;"
                            ng-repeat="toggle in classesOfSupplyToggles">

                            <polaris-toggle is-checked="getVariable(toggle.varName)"
                                            toggle="toggleVariable(toggle.varName)"
                                            label="{{toggle.title}}"
                                            id="{{toggle.label}}">
                            </polaris-toggle>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="toggle-section">
            <div class="toggle-section-header"
                 ng-click="isPddocTogglesOpen = !isPddocTogglesOpen">
                <h2>Deployment and Distribution</h2>
                <div class="toggle">
                    <arrow-icon direction="getArrowDirection(isPddocTogglesOpen)"></arrow-icon>
                </div>
            </div>
            <ul class="checkbox-group"
                ng-if="isPddocTogglesOpen">
                <li class="polaris-checkbox"
                    ng-repeat="toggle in pddocToggles">
                    <polaris-toggle is-checked="getVariable(toggle.varName)"
                                    toggle="toggleVariable(toggle.varName)"
                                    label="{{toggle.title}}"
                                    id="{{toggle.label}}">
                    </polaris-toggle>
                </li>
            </ul>
        </div>
        <div class="toggle-section">
            <div class="toggle-section-header"
                 ng-click="isNodalHealthTogglesOpen = !isNodalHealthTogglesOpen">
                <h2>Nodal Health</h2>
                <div class="toggle">
                    <arrow-icon direction="getArrowDirection(isNodalHealthTogglesOpen)"></arrow-icon>
                </div>
            </div>
            <ul class="checkbox-group"
                ng-if="isNodalHealthTogglesOpen">
                <li class="polaris-checkbox"
                    ng-repeat="toggle in nodalHealthToggles">
                    <polaris-toggle is-checked="getVariable(toggle.varName)"
                                    toggle="toggleVariable(toggle.varName)"
                                    label="{{toggle.title}}"
                                    id="{{toggle.label}}">
                    </polaris-toggle>
                </li>
            </ul>
        </div>
        <div class="toggle-section">
            <div class="toggle-section-header"
                 ng-click="isEngineerTogglesOpen = !isEngineerTogglesOpen">
                <h2>Engineer Units</h2>
                <div class="toggle">
                    <arrow-icon direction="getArrowDirection(isEngineerTogglesOpen)"></arrow-icon>
                </div>
            </div>
            <ul class="checkbox-group"
                ng-if="isEngineerTogglesOpen">
                <li class="polaris-checkbox"
                    ng-repeat="toggle in engineerUnitsToggles">
                    <polaris-toggle is-checked="getVariable(toggle.varName)"
                                    toggle="toggleVariable(toggle.varName)"
                                    label="{{toggle.title}}"
                                    id="{{toggle.label}}">
                    </polaris-toggle>
                </li>
            </ul>
        </div>
        <div class="toggle-section">
            <div class="toggle-section-header"
                 ng-click="isOcsTogglesOpen = !isOcsTogglesOpen">
                <h2>OCS</h2>
                <div class="toggle">
                    <arrow-icon direction="getArrowDirection(isOcsTogglesOpen)"></arrow-icon>
                </div>
            </div>
            <ul class="checkbox-group"
                ng-if="isOcsTogglesOpen">
                <li class="polaris-checkbox"
                    ng-repeat="toggle in ocsToggles">
                    <polaris-toggle is-checked="getVariable(toggle.varName)"
                                    toggle="toggleVariable(toggle.varName)"
                                    label="{{toggle.title}}"
                                    id="{{toggle.label}}">
                    </polaris-toggle>
                </li>
            </ul>
        </div>
    </div>
    <div id="map"
         class="map">
        <loader></loader>
    </div>
    <polaris-map-box style="position: absolute; bottom: 0; right: 0; z-index: 2;"
                     modal-label="Proof of Concept"
                     is-showing="isOrgSelected"
                     object-id="XJwxAG"></polaris-map-box>
</main>

<style type="text/css">
    #home-page {
        height: var(--full-viewport-height-navbar-px);

        display: grid;
        grid-template-columns: 350px 1fr 1fr 1fr 1fr;
        grid-template-rows: auto;
        grid-template-areas:
            'sidebar map map map map'
            'sidebar map map map map'
            'sidebar map map map map';
    }

    #home-page .map {
        grid-area: map;
    }

    #home-page .grid-box {

        display: flex;
        flex-direction: column;
    }

    #home-page .grid-box .header {
        padding: 0.5rem;
    }

    #home-page .grid-box .body {
        flex: 1;
    }

    #home-page .sidebar {
        grid-area: sidebar;
        box-shadow: var(--box-shadow-1);
    }

    #home-page .toggle-section .toggle-section-header {
        background-color: var(--blue-2);
        color: #FFF;
        padding: 0.25rem 0.5rem;
        display: flex;
        align-items: center;

        transition: background-color 0.3s ease-in-out;
    }

    #home-page .toggle-section .toggle-section-header:hover {
        cursor: pointer;
        background-color: var(--blue-3);
    }

    #home-page .toggle-section .toggle-section-header>h2 {
        font-size: 1rem;

        flex: 1;
    }

    #home-page .toggle-section .toggle-section-header>.toggle {
        height: 100%;
    }

    #home-page .toggle-section .toggle-section-header>.toggle svg {
        fill: #FFF;
        height: 18px;
        width: 18px;
        display: block;
        transition: transform 0.125s ease-in-out;
    }

    #home-page .checkbox-group .polaris-checkbox {
        padding: 0.25rem 0.5rem;
        transition: all 0.125s ease-in-out;
    }

    #home-page .checkbox-group .polaris-checkbox:hover {
        background-color: #d3d3d3;
    }

    #home-page .checkbox-group .polaris-checkbox:hover,
    #home-page .checkbox-group .polaris-checkbox label:hover,
    #home-page .checkbox-group .polaris-checkbox input:hover {
        cursor: pointer;
    }

    #home-page .checkbox-group .polaris-checkbox input {
        height: 18px;
        width: 18px;
    }

    #home-page .box-container {
        z-index: 1;
        padding: 0.5rem;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    #home-page .polaris-map-box {
        width: 300px;
        height: var(--full-viewport-height-navbar-px);
        background-color: #fff;
        /* box-shadow: var(--box-shadow-2); */
        /* border-radius: 6px; */
        padding: 0.25rem;
    }
</style>